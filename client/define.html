<template name="define">
	<h1>Define</h1>

	<p>List the existing schemas</p>

	<button id="add" class="btn btn-default">Add new Schema</button>

	<ul>
		{{#each schemas}}
		<li><a href="{{pathFor 'editSchema'}}" >{{schemaName}}</a></li>
		{{/each}}
	</ul>

</template>

<template name="createSchemax">

  {{> quickForm collection="Schemas" doc=editingDoc id="schemaForm" type="update"}}

</template>



<template name="createSchema">
	
	<h1>Create a schema</h1>

	<div class="container">




{{#autoForm collection="Schemas" id="schemaForm" type="update" doc=editingDoc }}

		<div class="row ">
			<button type="button" class="btn btn-link pull-right">Cancel</button>
			<button type="submit" class="btn btn-primary pull-right">Save</button>
			
		</div>

<fieldset>
		<div class="row">	
	    		{{> afQuickField name='schemaName'}}
		</div>

			

		<div class="row">


			<h4>Attributes</h4>
			
				<table class="table">
					<thead>
						<tr>

							<th>Name</th>
							<th>Label</th>
							<th>Type</th>
							<th>Optional?</th>
							<!-- 	
							Update to this format later...
							{{#each afFieldNames name="fields.$"}}
							<th>{{this}}</th>
							{{/each}}
							-->
						</tr>
					</thead>
					<tbody>
						{{#afEachArrayItem name="fields"}}

							<tr class="autoform-array-item">

					    


						    <td class="{{#if afFieldIsInvalid name=this.current.name}}has-error{{/if}}">
						    	{{> afFieldInput name=this.current.name}}
						    	<span class="help-block">{{afFieldMessage name=this.current.name}}</span>
						    	
      						</td>

      						<td class="{{#if afFieldIsInvalid name=this.current.label}}has-error{{/if}}">
						    	{{> afFieldInput name=this.current.label}}
						    	<span class="help-block">{{afFieldMessage name=this.current.label}}</span>
						    	
      						</td>

							<td class="{{#if afFieldIsInvalid name=this.current.type}}has-error{{/if}}">
						    	{{> afFieldInput name=this.current.type options=dataTypes}}
						    	<span class="help-block">{{afFieldMessage name=this.current.type}}</span>
						    	
      						</td>

      						<td class="{{#if afFieldIsInvalid name=this.current.optional}}has-error{{/if}}">
						    	{{> afFieldInput name=this.current.optional}}
						    	<span class="help-block">{{afFieldMessage name=this.current.optional}}</span>
						    	
      						</td>



						    <td>
						        <button class="btn btn-link autoform-remove-item">Remove</button>
				
							</td>


						</tr>	

						
						{{/afEachArrayItem}}
						<tr><td>
							<button class="autoform-add-item btn btn-default" data-autoform-field="fields" >Add</button>
						</td></tr>
				
					</tbody>

				</table>
			
		</div>		</fieldset>
		{{/autoForm}}
	</div>


</template>

<template name="xxx">

</template>

<template name="fieldRow">
	<tr>
		<td>{{name}}</td>
		<td>{{label}}</td>
		<td>{{type}}</td>
		<td><input type="checkbox" readonly {{isChecked}} /></td>
	</tr>
</template>





<template name="fieldForm">
	  {{#autoForm schema=formSchema id="contactForm"}}
  <fieldset>
    <legend>Add a field</legend>
    {{> afQuickField name="name"}}
    {{> afQuickField name="label"}}
    {{> afQuickField name="optional"}}
    <div>
      <button type="submit" class="btn btn-primary">Submit</button>
      <button type="reset" class="btn btn-default">Reset</button>
    </div>
  </fieldset>
  {{/autoForm}}
</template>
